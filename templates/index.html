{% extends 'base.html' %}

{% block title %}Hot Dogs Rústico - Artesanal & Gourmet{% endblock %}

{% block content %}
    <!-- Hero Section -->
    <section class="hero-section text-center text-white">
        <div class="container">
            <img src="{{ url_for('static', filename='images/logo/logo.jpg') }}" alt="Hot Dogs Rústico Logo" style="height: 120px; margin-bottom: 20px; border-radius: 10px;">
            <h1 class="display-4 mb-3 logo-text text-warning">Hot Dogs Rústico</h1>
            <p class="subtitle lead mb-4">Uma experiência gourmet em cada cachorro-quente</p>
            <a href="{{ url_for('menu') }}" class="btn btn-warning btn-lg px-4 fw-bold">
                <i class="fas fa-utensils me-2"></i> Ver Cardápio
            </a>
        </div>
    </section>

    <!-- About Section -->
    <section class="py-5">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-6 mb-4 mb-lg-0">
                    <h2 class="text-warning mb-4">Bem-vindo ao Hot Dogs Rústico</h2>
                    <div class="home-description">
                        {{ site_content.home_description|safe }}
                    </div>
                    <p><i class="fas fa-map-marker-alt me-2 text-warning"></i> Salvador, Bahia</p>
                    <div class="d-flex mt-4">
                        <div class="me-4">
                            <i class="fas fa-check-circle text-warning fs-5 me-2"></i> Ingredientes frescos
                        </div>
                        <div>
                            <i class="fas fa-check-circle text-warning fs-5 me-2"></i> Produção artesanal
                        </div>
                    </div>
                    <div class="d-flex mt-2">
                        <div class="me-4">
                            <i class="fas fa-check-circle text-warning fs-5 me-2"></i> Receitas exclusivas
                        </div>
                        <div>
                            <i class="fas fa-check-circle text-warning fs-5 me-2"></i> Atendimento de excelência
                        </div>
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="text-center">
                        <svg class="img-fluid rounded shadow-sm" width="500" height="400" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Hot dog illustration" preserveAspectRatio="xMidYMid slice" focusable="false">
                            <title>Hot dog illustration</title>
                            <rect width="100%" height="100%" fill="#343a40"/>
                            <g transform="translate(250,200)">
                                <!-- Bread -->
                                <path d="M-200,-40 C-200,-60 200,-60 200,-40 L200,40 C200,60 -200,60 -200,40 Z" fill="#D4A76A"/>
                                <!-- Inner bread -->
                                <path d="M-190,-35 C-190,-55 190,-55 190,-35 L190,35 C190,55 -190,55 -190,35 Z" fill="#EAC38D"/>
                                <!-- Sausage -->
                                <path d="M-160,-10 C-160,-30 160,-30 160,-10 L160,10 C160,30 -160,30 -160,10 Z" fill="#8B3A3A"/>
                                <!-- Mustard -->
                                <path d="M-140,0 C-140,-5 -100,-5 -80,0 C-60,5 -20,5 0,0 C20,-5 60,-5 80,0 C100,5 140,5 140,0" stroke="#FFDB58" stroke-width="6" fill="none"/>
                                <!-- Ketchup -->
                                <path d="M-150,-15 C-150,-20 -110,-20 -90,-15 C-70,-10 -30,-10 -10,-15 C10,-20 50,-20 70,-15 C90,-10 130,-10 150,-15" stroke="#B22222" stroke-width="6" fill="none"/>
                                <!-- Onions -->
                                <path d="M-130,15 C-130,10 -90,10 -70,15 C-50,20 -10,20 10,15 C30,10 70,10 90,15 C110,20 150,20 130,15" stroke="#FFFFFF" stroke-width="4" fill="none"/>
                            </g>
                            <text x="50%" y="92%" fill="#ffffff" font-family="sans-serif" font-size="14" text-anchor="middle">Hot Dog Artesanal</text>
                        </svg>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Featured Items Section -->
    <section class="bg-dark py-5">
        <div class="container">
            <h2 class="text-center text-warning mb-5">Destaques do Cardápio</h2>
            <div class="row g-4">
                {% for item in featured_items %}
                <div class="col-md-6 col-lg-3">
                    <div class="card h-100 menu-item menu-item-featured">
                        <div class="card-body">
                            <h5 class="card-title" style="color: #ffc107;">{{ item.name }}</h5>
                            <p class="card-text">{{ item.description }}</p>
                            <p class="price-tag mb-0">{{ item.format_price() }}</p>
                            <div class="mt-3">
                                <button type="button" class="btn btn-danger btn-lg w-100 order-whatsapp-btn" 
                                        data-item-name="{{ item.name }}" 
                                        data-item-price="{{ item.price }}"
                                        style="margin-top: 15px; font-size: 1.3rem; font-weight: bold; padding: 15px; 
                                               border: 3px solid #25d366; border-radius: 10px; 
                                               background-color: #FF5252; color: white;">
                                    <i class="fab fa-whatsapp" style="font-size: 1.5rem;"></i> 
                                    PEDIR AGORA
                                </button>

                                <style>
                                    @keyframes shine {
                                        0% { transform: translateX(-100%); }
                                        20% { transform: translateX(100%); }
                                        100% { transform: translateX(100%); }
                                    }
                                </style>
                            </div>
                        </div>
                        <div class="card-footer bg-transparent border-top-0">
                            <span class="badge bg-secondary">{{ item.category.name }}</span>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
            <div class="text-center mt-5">
                <a href="{{ url_for('menu') }}" class="btn btn-outline-warning btn-lg">
                    Ver Cardápio Completo
                </a>
            </div>
        </div>
    </section>

    <!-- Testimonials Section -->
    <section class="py-5">
        <div class="container">
            <h2 class="text-center text-warning mb-5">O Que Nossos Clientes Dizem</h2>
            <div class="row">
                <div class="col-lg-4 mb-4">
                    <div class="card h-100">
                        <div class="card-body">
                            <div class="d-flex justify-content-center mb-3">
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star text-warning"></i>
                            </div>
                            <p class="card-text fst-italic">"Melhor cachorro-quente que já comi em São Paulo! O Hot Dog Trufado é uma experiência gastronômica única. Recomendo demais!"</p>
                            <h5 class="card-title mb-0 text-center">- Renato Silva</h5>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4 mb-4">
                    <div class="card h-100">
                        <div class="card-body">
                            <div class="d-flex justify-content-center mb-3">
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star text-warning"></i>
                            </div>
                            <p class="card-text fst-italic">"Como vegetariana, é difícil encontrar boas opções. O Veggie Dog do Hot Dogs Rústico é simplesmente incrível. Sabor, textura... tudo perfeito!"</p>
                            <h5 class="card-title mb-0 text-center">- Paula Mendes</h5>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4 mb-4">
                    <div class="card h-100">
                        <div class="card-body">
                            <div class="d-flex justify-content-center mb-3">
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star-half-alt text-warning"></i>
                            </div>
                            <p class="card-text fst-italic">"Ambiente agradável, atendimento excelente e hot dogs de altíssima qualidade. O Rústico Especial com salsicha de cordeiro é uma verdadeira obra-prima!"</p>
                            <h5 class="card-title mb-0 text-center">- Lucas Ferreira</h5>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>


{% endblock %}

{% block extra_js %}
<script>
document.addEventListener('DOMContentLoaded', function() {
    // Função para processar pedido via WhatsApp
    function processWhatsAppOrder(itemName, itemPrice) {
        // Criar uma mensagem simples para o WhatsApp
        let message = `*Pedido Hot Dogs Rústico*\n\n`;
        message += `*Item:* ${itemName}\n`;
        message += `*Valor:* R$ ${parseFloat(itemPrice).toFixed(2).replace('.', ',')}`;

        // Codificar a mensagem para URL
        const encodedMessage = encodeURIComponent(message);

        // Número do WhatsApp (formato: 55 + DDD + número)
        const whatsappNumber = '5507199311037'; 

        // Criar URL do WhatsApp
        const whatsappURL = `https://wa.me/${whatsappNumber}?text=${encodedMessage}`;

        // Perguntar se deseja realizar o pedido pelo WhatsApp
        if (confirm("Gostaria de realizar o pedido por WhatsApp?")) {
            // Abrir WhatsApp em nova aba
            window.open(whatsappURL, '_blank');
        }
    }

    // Adicionar evento de clique aos botões de pedido
    const orderButtons = document.querySelectorAll('.order-whatsapp-btn');
    orderButtons.forEach(button => {
        button.addEventListener('click', function() {
            const itemName = this.getAttribute('data-item-name');
            const itemPrice = this.getAttribute('data-item-price');
            processWhatsAppOrder(itemName, itemPrice);
        });
    });

    // Adicionar efeito de hover nos botões de pedido
    orderButtons.forEach(button => {
        button.addEventListener('mouseenter', function() {
            this.style.transform = 'translateY(-3px)';
            this.style.boxShadow = '0 10px 15px rgba(0,0,0,0.3)';
        });

        button.addEventListener('mouseleave', function() {
            this.style.transform = 'translateY(0)';
            this.style.boxShadow = '0 6px 12px rgba(0,0,0,0.3)';
        });
    });
});
</script>
{% endblock %}


    <!-- Seção de Comentários -->
    <section class="py-5">
        <div class="container">
            <h2 class="text-center text-warning mb-5">Comentários dos Clientes</h2>
            <div class="row justify-content-center">
                <div class="col-lg-8">
                    <form id="commentForm" class="mb-5">
                        <div class="mb-3">
                            <label for="name" class="form-label">Nome</label>
                            <input type="text" class="form-control" id="name" required>
                        </div>
                        <div class="mb-3">
                            <label for="comment" class="form-label">Seu comentário</label>
                            <textarea class="form-control" id="comment" rows="3" required></textarea>
                        </div>
                        <button type="submit" class="btn btn-warning">Enviar Comentário</button>
                    </form>

                    <div id="commentsContainer">
                        <!-- Os comentários serão inseridos aqui dinamicamente -->
                    </div>
                </div>
            </div>
        </div>
    </section>